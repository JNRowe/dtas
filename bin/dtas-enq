#!/usr/bin/env ruby
# -*- encoding: binary -*-
# Copyright (C) 2013, Eric Wong <normalperson@yhbt.net>
# License: GPLv3 or later (https://www.gnu.org/licenses/gpl-3.0.txt)
require 'dtas/unix_client'
c = DTAS::UNIXClient.new

ARGV.each do |path|
  # Unix paths are encoding agnostic
  path = File.expand_path(path.b)
  res = c.req_ok(%W(enq #{path}))
  puts "#{path} #{res}"
end
